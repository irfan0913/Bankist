let e;const t=[{owner:"Jonas Schmedtmann",movements:[200,450,-400,3e3,-650,-130,70,1300],interestRate:1.2,pin:1111},{owner:"Jessica Davis",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222},{owner:"Steven Thomas Williams",movements:[200,-200,340,-300,-20,50,400,-460],interestRate:.7,pin:3333},{owner:"Sarah Smith",movements:[430,1e3,700,50,90],interestRate:1,pin:4444}],n=document.querySelector(".welcome");document.querySelector(".date");const o=document.querySelector(".balance__value"),u=document.querySelector(".summary__value--in"),r=document.querySelector(".summary__value--out"),m=document.querySelector(".summary__value--interest");document.querySelector(".timer");const c=document.querySelector(".app"),l=document.querySelector(".movements"),a=document.querySelector(".login__btn"),i=document.querySelector(".form__btn--transfer"),s=document.querySelector(".form__btn--loan"),v=document.querySelector(".form__btn--close");document.querySelector(".btn--sort");const d=document.querySelector(".login__input--user"),p=document.querySelector(".login__input--pin"),f=document.querySelector(".form__input--to"),_=document.querySelector(".form__input--amount"),y=document.querySelector(".form__input--loan-amount"),S=document.querySelector(".form__input--user"),q=document.querySelector(".form__input--pin"),b=function(e){l.innerHTML="",e.forEach(function(e,t){let n=e>0?"deposit":"withdrawal",o=`
    <div class="movements__row">
      <div class="movements__type movements__type--${n}">${t+1} ${n}</div>
      <div class="movements__value">${e}\u{20AC}</div>
    </div>
  `;l.insertAdjacentHTML("afterbegin",o)})},w=function(e){e.balance=e.movements.reduce((e,t)=>e+t,0),o.textContent=`${e.balance}\u{20AC}`},h=function(e){let t=e.movements.filter(e=>e>0).reduce((e,t)=>e+t,0);u.textContent=`${t}\u{20AC}`;let n=e.movements.filter(e=>e<0).reduce((e,t,n)=>e+t,0);r.textContent=`${Math.abs(n)}\u{20AC}`;let o=e.movements.filter(e=>e>0).map(t=>t*e.interestRate/100).filter((e,t,n)=>e>=1).reduce((e,t)=>e+t,0);m.textContent=`${o}\u{20AC}`};!function(e){e.forEach(function(e){e.name=e.owner.toLocaleLowerCase().split(" ").map(e=>e[0]).join("")})}(t);const C=function(e){b(e.movements),w(e),h(e)};a.addEventListener("click",function(o){o.preventDefault(),e=t.find(e=>e.name===d.value),e?.pin===Number(p.value)&&(n.textContent=`welcome back, ${e.owner.split(" ")[0]}`,c.style.opacity=100,d.value=p.value="",p.blur(),C(e)),i.addEventListener("click",function(n){n.preventDefault();let o=Number(_.value),u=t.find(e=>e.name===f.value);_.value=f.value="",o>0&&u&&e.balance>=o&&u?.name!=e.name&&(e.movements.push(-o),u.movements.push(o),C(e))})}),s.addEventListener("click",function(t){t.preventDefault();let n=Number(y.value);n>0&&e.movements.some(e=>e>=.5*n)&&(e.movements.push(n),C(e),y.value="")}),v.addEventListener("click",function(n){if(n.preventDefault(),console.log(S.value,e.name,Number(q.value),e.pin),S.value===e.name&&Number(q.value)===e.pin){console.log("delete");let n=t.findIndex(t=>t.name===e.name);t.splice(n,1),c.style.opacity=0}S.value=q.value=""});const{withdraw:$,deposit:L}=t.flatMap(e=>e.movements).reduce((e,t)=>(t>0?e.deposit+=t:e.withdraw+=t,e),{withdraw:0,deposit:0});t.flatMap(e=>e.movements).reduce((e,t)=>e+t,0);const g=e=>e.map(e=>e<=2?2*e:16+4*e).filter(e=>e>=18).reduce((e,t,n,o)=>e+t/o.length,0);g([5,2,4,1,15,8,3]),g([16,6,10,5,6,1,4]);
//# sourceMappingURL=index.d31a9b14.js.map
